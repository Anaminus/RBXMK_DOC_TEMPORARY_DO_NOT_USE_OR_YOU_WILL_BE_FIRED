+++
weight = 110
title = "path"
+++

<p>The <b>path</b> library provides functions that handle file paths. The
following functions are included:</p>

<p>$FIELDS</p>
<table>
<thead>
<tr><th>Item</th><th>Kind</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>clean</td><td>Function</td><td><p>Cleans up a file path.</p>
</td></tr>
<tr><td>expand</td><td>Function</td><td><p>Expands predefined file path variables.</p>
</td></tr>
<tr><td>join</td><td>Function</td><td><p>Joins a number of file paths together.</p>
</td></tr>
<tr><td>split</td><td>Function</td><td><p>Splits a file path into its components.</p>
</td></tr>
</tbody>
</table>
<h2>Functions</h2>
<h3>clean</h3>
<code>path.clean(path: string): string</code>
<p>The <b>clean</b> function returns the shortest path equivalent to
<i>path</i>. Separators are replaced with the OS-specific path separator.</p>
<h3>expand</h3>
<code>path.expand(path: string): string</code>
<p>The <b>expand</b> function scans <i>path</i> for certain variables of the
form <code>$var</code> or <code>${var}</code> an expands them. The following
variables are expanded:</p>

<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$script_name</code>, <code>$sn</code></td>
<td>The base name of the currently running script. Empty for stdin.</td>
</tr>
<tr>
<td><code>$script_directory</code>, <code>$script_dir</code>, <code>$sd</code></td>
<td>The directory of the currently running script. Empty for stdin.</td>
</tr>
<tr>
<td><code>$root_script_directory</code>, <code>$root_script_dir</code>, <code>$rsd</code></td>
<td>The directory of the first running script. Empty for stdin.</td>
</tr>
<tr>
<td><code>$working_directory</code>, <code>$working_dir</code>, <code>$wd</code></td>
<td>The current working directory.</td>
</tr>
<tr>
<td><code>$temp_directory</code>, <code>$temp_dir</code>, <code>$tmp</code></td>
<td>The directory for temporary files.</td>
</tr>
</tbody>
</table>
<h3>join</h3>
<code>path.join(...: string): string</code>
<p>The <b>join</b> function joins each <i>path</i> element into a single path,
separating them using the operating system&#39;s path separator. This also cleans up
the path.</p>
<h3>split</h3>
<code>path.split(path: string, ...: string): (...: string)</code>
<p>The <b>split</b> function returns the components of a file path.</p>

<table>
<thead>
<tr>
<th>Component</th>
<th><code>project/scripts/main.script.lua</code></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>base</code></td>
<td><code>main.script.lua</code></td>
<td>The file name; the last element of the path.</td>
</tr>
<tr>
<td><code>dir</code></td>
<td><code>project/scripts</code></td>
<td>The directory; all but the last element of the path.</td>
</tr>
<tr>
<td><code>ext</code></td>
<td><code>.lua</code></td>
<td>The extension; the suffix starting at the last dot of the last element of the path.</td>
</tr>
<tr>
<td><code>fext</code></td>
<td><code>.script.lua</code></td>
<td>The format extension, as determined by registered formats.</td>
</tr>
<tr>
<td><code>fstem</code></td>
<td><code>main</code></td>
<td>The base without the format extension.</td>
</tr>
<tr>
<td><code>stem</code></td>
<td><code>main.script</code></td>
<td>The base without the extension.</td>
</tr>
</tbody>
</table>

<p>A format extension depends on the available formats. See <a href="formats.md">Formats</a> for more information.</p>
