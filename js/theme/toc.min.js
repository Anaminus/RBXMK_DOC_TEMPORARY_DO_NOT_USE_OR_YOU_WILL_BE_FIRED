import{addFunctionToResizeEvent,manageClickCollapsibleToc,manageDefaultToc,waitForScroll}from"./modules/helpers.min.js";document.addEventListener("DOMContentLoaded",function(){function i(){const s=n.getBoundingClientRect().top;let t=c(s);for(let n=0;n<e.length;n++)n<t?l(e[n]):n===t?r(e[n]):u(e[n])}let c=function(t){let n=-1;for(let s=0;s<e.length;s++){const o=document.getElementById(e[s].getAttribute("href").substring(1)).getBoundingClientRect().top;Math.floor(o-t)<=0&&(n=s)}return n};function l(e){e.classList.toggle("is-past",!0),e.classList.toggle("is-current",!1)}function r(e){e.classList.toggle("is-past",!1),e.classList.toggle("is-current",!0)}function u(e){e.classList.toggle("is-past",!1),e.classList.toggle("is-current",!1)}let o=!1,t=!1,n=document.getElementById("contentContainer"),e=document.querySelectorAll("#TableOfContents a");for(let s=0;s<e.length;s++)e[s].addEventListener("click",function(){t=!0,waitForScroll(n,100,100).then(e=>{if(e)i(),t=!1;else return Promise.reject("Cannot reach end of scroll")}).catch(e=>{console.error("Error managing click event for "+this+": "+e),t=!1})});function d(){n.scrollTop>0?s.classList.toggle("is-active",!0):s.classList.toggle("is-active",!1)}let s=document.getElementById("tocBackToTop");s&&s.addEventListener("click",function(){n.scrollTop=0,t=!0,waitForScroll(n,100,100).then(e=>{if(e)i(),t=!1;else return Promise.reject("Cannot reach end of scroll")}).catch(e=>{console.error("Error managing click event for "+this+": "+e),t=!1})}),n.addEventListener("scroll",function(){o||(window.requestAnimationFrame(function(){t||i(),d(),o=!1}),o=!0)});let a=document.getElementById("tocCollapsible");a&&a.addEventListener("click",()=>{manageClickCollapsibleToc()}),addFunctionToResizeEvent(manageDefaultToc)})